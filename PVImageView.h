// class-dumped from Preview 3.0.4

#import <Cocoa/Cocoa.h>

@class PVDocument;
@class PVImageBackground;
@class PVImageSelection;
@class PVGrabbingFeedback;
@class PVGrabbingCoordView;
@class CIImage;
@class CIFilter;


@interface PVImageView : NSView
{
    NSOpenGLContext *_openGLContext;
    NSOpenGLPixelFormat *_pixelFormat;
    struct CGImage *mImage;
    CIImage *mCIImage;
    CIImage *mCIKnob;
    struct CGRect mKnobRect;
    struct _NSRect mLastRect;
    CIContext *mContext;
    CIFilter *mAffineTransformFilter;
    struct _NSSize mImageSize;
    PVImageBackground *mPVImageBackground;
    PVDocument *mPVDocument;
    struct CGImage *mImageCorrectionImage;
    PVImageSelection *mUserSelection;
    PVGrabbingFeedback *mCoordWindow;
    PVGrabbingCoordView *mCoordView;
    NSColor *mBackgroundColor;
    float mZoomDelay;
    int mMouseDownMode;
    struct _NSPoint mMouseDown;
    struct _NSPoint mLastMouseDown;
    float mScalingFactor;
    float mNonSquareScalingFactor;
    unsigned int mKnobTextureID;
    float mKnobPixelsHigh;
    float mKnobPixelsWide;
    int mImageDrawingMode;
    int mExifOrientation;
    BOOL mCommandKeyDown;
    BOOL mOptionKeyDown;
    BOOL mShiftKeyDown;
    BOOL mSpaceKeyDown;
    BOOL mForceLoResMode;
    BOOL mHiResWhenZoomedIn;
    BOOL mDrawRectFinished;
    BOOL mDrawLoRes;
    BOOL mWhileZooming;
    BOOL mWhileColorCorrecting;
    BOOL mKnobsHidden;
    BOOL mNonSquare;
    BOOL mDrawingEnabled;
    BOOL mOpaque;
}

+ (id)defaultPixelFormat;
- (id)openGLContext;
- (void)clearGLContext;
- (void)setOpenGLContext:(id)fp8;
- (void)setPixelFormat:(id)fp8;
- (id)pixelFormat;
- (void)lockFocus;
- (void)update;
- (void)_surfaceNeedsUpdate:(id)fp8;
- (void)prepareOpenGL;
- (id)drawExtension;
- (id)initWithFrame:(struct _NSRect)fp8;
- (void)dealloc;
- (void)pvWindowWillClose;
- (void)finalize;
- (void)setImageBackground:(id)fp8;
- (void)drawExtensionRefresh:(id)fp8;
- (void)drawExtensionDrawingPathChanged:(id)fp8;
- (void)drawExtensionDumpViewHierarchy:(id)fp8;
- (void)updateClearColor:(id)fp8;
- (void)drawRect:(struct _NSRect)fp8;
- (void)drawRectCG:(struct _NSRect)fp8;
- (void)drawRectCI:(struct _NSRect)fp8;
- (void)drawRectOpenGL1:(struct _NSRect)fp8;
- (void)drawRectOpenGL2:(struct _NSRect)fp8;
- (void)drawUserSelection:(struct _NSRect)fp8;
- (void)drawUserSelectionOpenGL:(struct CGRect)fp8;
- (void)openGLUserSelection:(struct _NSRect)fp8 frame:(struct _NSRect)fp24 selectionBounds:(struct _NSRect)fp40;
- (id)miniImage;
- (void)copyPixelsTo:(id)fp8 sourceRect:(struct _NSRect)fp12 baseView:(id)fp28;
- (void)prepareForMiniaturization:(id)fp8;
- (struct _NSPoint)mouseConvertPoint:(struct _NSPoint)fp8 fromView:(id)fp16;
- (id)filterResult:(id)fp8;
- (void)setFrameSize:(struct _NSSize)fp8;
- (void)updateContextColorSpace:(struct CGColorSpace *)fp8;
- (void)resetDrawingPath;
- (void)ciFilterChanged:(id)fp8;
- (void)setExifOrientation:(int)fp8;
- (int)exifOrientation;
- (void)forceColorCorrectionUpdateInHiQuality:(id)fp8;
- (void)forceUpdateInHiQuality:(id)fp8;
- (void)setDrawingEnabled:(BOOL)fp8;
- (BOOL)isOpaque;
- (void)viewWillStartLiveZooming;
- (void)viewDidEndLiveZooming;
- (void)viewWillStartLiveResize;
- (void)viewDidEndLiveResize;
- (void)setScalingFactor:(struct _NSSize)fp8;
- (void)clearImageCorrectionImage;
- (struct _NSSize)imageSize;
- (BOOL)acceptsFirstResponder;
- (float)gridSpacing;
- (BOOL)snapsToGrid;
- (void)disconnectDocument;
- (void)documentWillChangeTo:(id)fp8;
- (void)setCGImage:(struct CGImage *)fp8 document:(id)fp12;
- (void)updateKeys:(id)fp8;
- (struct _NSRect)mapRect:(struct _NSRect)fp8;
- (void)mapAndAddCursorRect:(struct _NSRect)fp8 cursor:(id)fp24;
- (void)resetCursorRects;
- (void)keyUpNotification:(id)fp8;
- (void)keyDownNotification:(id)fp8;
- (void)flagsChangedNotification:(id)fp8;
- (BOOL)performKeyEquivalent:(id)fp8;
- (void)keyDown:(id)fp8;
- (void)keyUp:(id)fp8;
- (void)beginEchoingMoveToRulers:(struct _NSRect)fp8;
- (void)stopEchoingMoveToRulers;
- (void)moveUserSelectionWithEvent:(id)fp8;
- (void)contigousZoomOut:(id)fp8;
- (void)contigousZoomIn:(id)fp8;
- (void)mouseDragged:(id)fp8;
- (void)mouseUp:(id)fp8;
- (void)createCoordWindow;
- (void)updateCoordWindow:(id)fp8;
- (void)removeCoordWindow;
- (void)trackKnob:(int)fp8 ofSelection:(id)fp12 withEvent:(id)fp16;
- (void)invalidateUserSelection;
- (void)clearSelection;
- (void)createSelectionWithEvent:(id)fp8;
- (void)mouseDown:(id)fp8;
- (id)userSelection;
- (struct CGImage *)cgImageFromSelection:(BOOL)fp8;
- (void)doCopy:(id)fp8;
- (struct CGImage *)croppedImage;
- (void)debugUseCGImage:(id)fp8;
- (void)debugUseCIImage:(id)fp8;
- (void)debugUseCIImageOpenGL1:(id)fp8;
- (void)debugUseCIImageOpenGL2:(id)fp8;
- (void)toggleCGImageSourceUseCoreImage:(id)fp8;
- (BOOL)validateMenuItem:(id)fp8;
- (id)menu;

@end
